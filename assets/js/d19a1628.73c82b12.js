"use strict";(self.webpackChunkoctosql=self.webpackChunkoctosql||[]).push([[1773],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=c(n),d=a,f=m["".concat(l,".").concat(d)]||m[d]||p[d]||o;return n?r.createElement(f,s(s({ref:t},u),{},{components:n})):r.createElement(f,s({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var c=2;c<o;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2038:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return i},metadata:function(){return c},toc:function(){return p}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),s=["components"],i={sidebar_position:1},l="Introduction",c={unversionedId:"basics/intro",id:"basics/intro",title:"Introduction",description:"OctoSQL is a CLI that lets you use SQL to query various kinds of data - files, databases, streams and other sources that have been implemented as plugins.",source:"@site/docs/basics/intro.md",sourceDirName:"basics",slug:"/basics/intro",permalink:"/docs/basics/intro",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/basics/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Basics",permalink:"/docs/category/basics"},next:{title:"Plugins",permalink:"/docs/basics/plugins"}},u={},p=[{value:"Basic querying",id:"basic-querying",level:2},{value:"Querying Databases",id:"querying-databases",level:2},{value:"Summary",id:"summary",level:2}],m={toc:p};function d(e){var t=e.components,n=(0,a.Z)(e,s);return(0,o.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"OctoSQL is a CLI that lets you use SQL to query various kinds of data - files, databases, streams and other sources that have been implemented as plugins."),(0,o.kt)("h2",{id:"basic-querying"},"Basic querying"),(0,o.kt)("p",null,"Let's start with querying a simple CSV file."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csv",metastring:'title="invoices.csv"',title:'"invoices.csv"'},"id,customer_id,amount\n42,42,979.99\n43,7,1979.99\n44,1,1239.99\n45,15,400.00\n46,7,420.00\n")),(0,o.kt)("p",null,"In order to query that file, we can just use the filename as a table name:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'~> octosql "SELECT * FROM invoices.csv"\n+-------------+----------------------+-----------------+\n| invoices.id | invoices.customer_id | invoices.amount |\n+-------------+----------------------+-----------------+\n|          42 |                   42 |          979.99 |\n|          43 |                    7 |         1979.99 |\n|          44 |                    1 |         1239.99 |\n|          45 |                   15 |             400 |\n|          46 |                    7 |             420 |\n+-------------+----------------------+-----------------+\n')),(0,o.kt)("p",null,"We can also do grouping and ordering:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'~>  octosql "SELECT id, SUM(amount) as amount_sum\n             FROM ./invoices.csv\n             GROUP BY id \n             ORDER BY amount_sum DESC"\n+----+------------+\n| id | amount_sum |\n+----+------------+\n| 42 |     979.99 |\n| 43 |    1979.99 |\n| 44 |    1239.99 |\n| 45 |        400 |\n| 46 |        420 |\n+----+------------+\n')),(0,o.kt)("p",null,"If you want to find out more about quering files, take a look at ",(0,o.kt)("a",{parentName:"p",href:"/docs/advanced-concepts/advanced-file-querying"},"Advanced File Querying"),"."),(0,o.kt)("h2",{id:"querying-databases"},"Querying Databases"),(0,o.kt)("p",null,"Crucially though, OctoSQL also lets you use ",(0,o.kt)("strong",{parentName:"p"},"plugins")," which add support for various other datasources. One of these is the PostgreSQL plugin, which we can easily install:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"~> octosql plugin install postgres\nDownloading core/postgres@0.3.0...\n")),(0,o.kt)("p",null,"Now, we'll need to configure the specific PostgreSQL database we want to use:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'~> echo "databases:\n  - name: store\n    type: postgres\n    config:\n      host: localhost\n      port: 5432\n      database: postgres\n      schema: public\n      user: postgres\n      password: postgres" > ~/.octosql/octosql.yml\n')),(0,o.kt)("p",null,"With this, we'll be able to query the ",(0,o.kt)("inlineCode",{parentName:"p"},"store")," PostgreSQL database. We can, for example, get the email of each invoice, by joining with the customers table:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"~> octosql \"SELECT invoices.id, email, amount\n            FROM invoices.csv\n              JOIN store.customers ON invoices.customer_id = customers.id\n            ORDER BY amount DESC\"\n+-------------+------------------------------+-----------------+\n| invoices.id |       customers.email        | invoices.amount |\n+-------------+------------------------------+-----------------+\n|          42 | 'donetta.cummings@email.com' |          979.99 |\n|          43 | 'lindsay.kozey@email.com'    |         1979.99 |\n|          44 | 'caterina.ebert@email.com'   |         1239.99 |\n|          45 | 'angelo.friesen@email.com'   |             400 |\n|          46 | 'lindsay.kozey@email.com'    |             420 |\n+-------------+------------------------------+-----------------+\n")),(0,o.kt)("p",null,"To see more details about the ",(0,o.kt)("inlineCode",{parentName:"p"},"customers")," table, we can describe it:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"~> octosql \"SELECT * FROM store.customers\" --describe\n+--------------------------+-----------------+------------+\n|           name           |      type       | time_field |\n+--------------------------+-----------------+------------+\n| 'customers.email'        | 'String'        | false      |\n| 'customers.first_name'   | 'String'        | false      |\n| 'customers.id'           | 'Int'           | false      |\n| 'customers.last_name'    | 'String'        | false      |\n| 'customers.phone_number' | 'NULL | String' | false      |\n+--------------------------+-----------------+------------+\n")),(0,o.kt)("h2",{id:"summary"},"Summary"),(0,o.kt)("p",null,"This document has hopefully shown you how to use OctoSQL for various simple use cases, and given you an intuition of what you can expect from it, and when it might be the right tool to use."))}d.isMDXComponent=!0}}]);